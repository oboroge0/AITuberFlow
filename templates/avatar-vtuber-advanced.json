{
  "id": "template-avatar-vtuber-advanced",
  "name": "Avatar VTuber (Advanced)",
  "description": "Advanced VTuber workflow with separate emotion and lip sync control. YouTube Chat -> LLM -> Emotion -> TTS -> Lip Sync.",
  "nodes": [
    {
      "id": "node-chat",
      "type": "youtube-chat",
      "position": { "x": 100, "y": 200 },
      "config": {
        "videoId": "",
        "apiKey": "",
        "pollInterval": 3000,
        "filterBots": true
      }
    },
    {
      "id": "node-llm",
      "type": "openai-llm",
      "position": { "x": 350, "y": 200 },
      "config": {
        "apiKey": "",
        "model": "gpt-4o-mini",
        "systemPrompt": "You are a friendly virtual streamer. Respond to chat messages naturally. Keep responses under 150 characters. Show emotion in your responses - be happy, surprised, or sometimes a little sad.",
        "temperature": 0.8,
        "maxTokens": 200
      }
    },
    {
      "id": "node-emotion",
      "type": "emotion-analyzer",
      "position": { "x": 600, "y": 100 },
      "config": {
        "method": "rule-based",
        "language": "auto",
        "custom_mappings": "{}",
        "emit_events": true
      }
    },
    {
      "id": "node-tts",
      "type": "voicevox-tts",
      "position": { "x": 600, "y": 300 },
      "config": {
        "host": "http://localhost:50021",
        "speaker": 1,
        "speedScale": 1.0,
        "pitchScale": 0.0,
        "volumeScale": 1.0
      }
    },
    {
      "id": "node-lipsync",
      "type": "lip-sync",
      "position": { "x": 850, "y": 300 },
      "config": {
        "method": "volume",
        "sensitivity": 1.0,
        "smoothing": 0.3,
        "threshold": 0.1,
        "emit_realtime": true,
        "frame_rate": 30
      }
    },
    {
      "id": "node-output",
      "type": "console-output",
      "position": { "x": 850, "y": 100 },
      "config": {
        "prefix": "[VTuber]",
        "logLevel": "info"
      }
    }
  ],
  "connections": [
    {
      "id": "conn-1",
      "from": { "nodeId": "node-chat", "port": "message" },
      "to": { "nodeId": "node-llm", "port": "prompt" }
    },
    {
      "id": "conn-2",
      "from": { "nodeId": "node-llm", "port": "response" },
      "to": { "nodeId": "node-emotion", "port": "text" }
    },
    {
      "id": "conn-3",
      "from": { "nodeId": "node-llm", "port": "response" },
      "to": { "nodeId": "node-tts", "port": "text" }
    },
    {
      "id": "conn-4",
      "from": { "nodeId": "node-tts", "port": "audio" },
      "to": { "nodeId": "node-lipsync", "port": "audio" }
    },
    {
      "id": "conn-5",
      "from": { "nodeId": "node-emotion", "port": "text" },
      "to": { "nodeId": "node-output", "port": "text" }
    }
  ],
  "character": {
    "name": "AI VTuber",
    "personality": "Interactive virtual streamer who responds to live chat"
  }
}
